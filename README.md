
---

## ğŸš¨ MIGRATION NOTICE - IMPORTANT

**Migration Date:** 2025-06-22  
**Previous Location:** `C:\Users\DavidWitkin\OneDrive - Packaged Agile\Development`  
**New Location:** `C:\development`

### What Happened
This project was moved from OneDrive to local storage to resolve OneDrive sync issues with development files (node_modules, build artifacts, etc.).

### Post-Migration Actions Required
After the move, you should:

1. **Clean Build Artifacts:**
   `powershell
   # Remove generated/cached files that may have hardcoded paths
   rm -rf node_modules, .next, .contentlayer, .cache, dist, build -ErrorAction SilentlyContinue
   `

2. **Reinstall Dependencies:**
   `powershell
   npm install --legacy-peer-deps
   # or yarn install, pip install -r requirements.txt, etc.
   `

3. **Rebuild Project:**
   `powershell
   npm run build  # or your project's build command
   `

4. **Reopen in Cursor:**
   - Close current workspace
   - Open project from new location: `C:\development\margin-calc`
   - Verify all extensions and settings work correctly

### Potential Issues to Watch For
- **Build cache errors:** Clear .next, .cache, dist folders if builds fail
- **Absolute path references:** Some tools may have cached old paths
- **Python virtual environments:** Delete and recreate if using Python
- **VS Code/Cursor settings:** May need to reopen workspace file
- **Git remotes:** Should work fine, but verify with `git remote -v`
- **Environment variables:** Update any scripts with hardcoded paths

### Benefits of This Move
âœ… **Faster builds** - No OneDrive sync interference  
âœ… **Better performance** - Direct disk access  
âœ… **Fewer file conflicts** - No sync issues with node_modules  
âœ… **Cleaner development** - No .tmp files from OneDrive  

*This note was automatically generated by migration script on 2025-06-22*

---

# ğŸ“Š margin-calc

A scenario-based margin modeling tool built by Packaged Agile to evaluate and compare staffing cost structures across W-2 employees and 1099 contractors. Supports hourly and fixed-price billing, margin visibility, HUBZone analysis, and side-by-side comparisons.

---

## ğŸš€ Key Features

- Create and save margin scenarios for each applicant or role
- Support for both W-2 and 1099 compensation structures
- Separate billable vs. payable hours
- Fixed price or hourly billing modes
- Auto-calculated:
  - Monthly and annual revenue
  - Margin ($ and %)
  - Profit/hour and burdened cost/hour
- Expandable advanced financial metrics
- HUBZone fee toggles and residency tracking
- Tags, favorites, and scenario groups
- Scenario comparison view (up to 4 at a time)
- Default settings panel for reusable assumptions

---

## ğŸ§± Tech Stack

| Layer       | Tech                     |
|-------------|--------------------------|
| Frontend    | React + Vite + shadcn/ui |
| Backend     | FastAPI (Python 3.11)    |
| Database    | Supabase (PostgreSQL)    |
| Auth        | Clerk.dev                |
| Styling     | Tailwind + Radikal Font  |
| Hosting     | Render.com               |

---

## ğŸ›  Getting Started

Clone the repo:

```bash
git clone https://github.com/DaveW001/margin-calc.git
cd margin-calc



# ğŸ“‹ PROJECT README TEMPLATE - Knowledge Base Integration

**Use this template section in all project README files to explain the knowledge base structure**

---

## ğŸ“š Knowledge Base Access

This project uses **symbolic links** to access the centralized Packaged Agile knowledge base.

### **ğŸ”— How It Works**
```
your-project/
â”œâ”€â”€ knowledge-base/           # â† Symbolic link to C:\development\01-knowledge-base
â”‚   â”œâ”€â”€ 01_brand_and_style/   # Brand voice, quality standards
â”‚   â”œâ”€â”€ 02_case_studies_and_performance/
â”‚   â”œâ”€â”€ 03_customer_and_market_insights/
â”‚   â”œâ”€â”€ 04_delivery_and_methodology/
â”‚   â”œâ”€â”€ 05_templates_and_patterns/
â”‚   â”œâ”€â”€ 06_cursor_and_development_tools/
â”‚   â””â”€â”€ 07_scripts_and_utilities/
â”œâ”€â”€ .gitignore               # â† Contains: knowledge-base/
â””â”€â”€ [your project files]
```

### **âœ… Expected Behavior**
- **In Cursor**: `knowledge-base/` folder appears in file explorer
- **Quick Open**: `Ctrl+P` finds knowledge base files (e.g., `brand-voice.md`)
- **AI Chat**: Reference files like `knowledge-base/01_brand_and_style/brand-voice.md`
- **Terminal**: `Get-ChildItem knowledge-base` shows all categories

### **ğŸ”§ Setup Verification**
```powershell
# Check symbolic link exists and points correctly
Get-Item "knowledge-base" | Select-Object Name, LinkType, Target

# Should show:
# Name          LinkType      Target
# ----          --------      ------
# knowledge-base SymbolicLink  {C:\development\01-knowledge-base}
```

### **ğŸš¨ CRITICAL: What NOT to Do**
- âŒ **Never create** actual `knowledge-base/` directories
- âŒ **Never commit** knowledge-base files to this repository
- âŒ **Never remove** `knowledge-base/` from .gitignore
- âŒ **Never modify** knowledge-base files from this project (edit the master files instead)

### **ğŸ› ï¸ If Knowledge Base Is Missing**
```powershell
# Run as Administrator
New-Item -ItemType SymbolicLink -Path "knowledge-base" -Target "C:\development\01-knowledge-base"

# Add to .gitignore if missing
Add-Content -Path ".gitignore" -Value "`n# Knowledge base symbolic link`nknowledge-base/"
```

### **ğŸ¯ Using Knowledge Base Files**

#### **For Content Creation**
- Brand voice: `knowledge-base/01_brand_and_style/brand-voice.md`
- Quality checklist: `knowledge-base/01_brand_and_style/quality-checklist.md`
- Personas: `knowledge-base/03_customer_and_market_insights/persona-profiles.md`

#### **For Development**
- Cursor setup: `knowledge-base/06_cursor_and_development_tools/cursor-session-guide.md`
- Terminal fixes: `knowledge-base/06_cursor_and_development_tools/terminal-hanging-solutions.md`
- Git workflows: `knowledge-base/07_scripts_and_utilities/git-workflow-universal.md`

#### **For Project Management**
- Delivery methods: `knowledge-base/04_delivery_and_methodology/how-we-deliver-at-pa.md`
- Templates: `knowledge-base/05_templates_and_patterns/`

---

## ğŸ” Troubleshooting Knowledge Base Access

### **Symbolic Link Not Visible in Cursor**
1. Refresh Cursor: `Ctrl+Shift+P` â†’ "Developer: Reload Window"
2. Close and reopen project folder
3. Verify link: `Get-ChildItem knowledge-base`

### **Build Errors with Knowledge Base**
- **Correct Fix**: Add safety checks to handle missing files
- **Wrong Fix**: ~~Creating actual directories~~ (breaks the system)

### **Files Appear Empty**
- Check if `C:\development\01-knowledge-base` exists
- Verify symbolic link target: `(Get-Item knowledge-base).Target`

---

## ğŸ“– More Information

- **Setup Guide**: `knowledge-base/06_cursor_and_development_tools/quick-setup-guide.md`
- **Workspace Config**: `knowledge-base/06_cursor_and_development_tools/cursor-workspace-setup.md`
- **Safety Guidelines**: `knowledge-base/README-MASTER-FILES.md`

**Remember**: The knowledge base is a **shared resource**. Changes benefit all projects, but major modifications require user approval.

